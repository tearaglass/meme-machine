<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GROOL Meme Machine</title>
  <link rel="stylesheet" href="/fonts/fonts.css" />
  <link rel="stylesheet" href="/styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <header class="top-bar">
    <div>
      <h1>GROOL Meme Machine</h1>
      <p>Telegram-native meme editor</p>
    </div>
    <div class="aspect-controls">
      <span>Aspect</span>
      <button class="ghost" data-aspect="1:1">1:1</button>
      <button class="ghost" data-aspect="9:16">9:16</button>
      <button class="ghost" data-aspect="16:9">16:9</button>
    </div>
  </header>

  <main class="layout">
    <section class="panel tool-panel">
      <h2>Tools</h2>
      <div class="tool-grid">
        <button data-tool="select" class="tool-button active">Select</button>
        <button data-tool="text" class="tool-button">Text</button>
        <button data-tool="draw" class="tool-button">Draw</button>
      </div>

      <div class="section">
        <h3>Base Images</h3>
        <div id="base-images" class="asset-grid"></div>
      </div>

      <div class="section">
        <h3>Upload Image</h3>
        <input type="file" id="image-upload" accept="image/*" />
      </div>

      <div class="section">
        <h3>Text Tool</h3>
        <label>
          Text
          <input type="text" id="text-input" placeholder="Type your meme" />
        </label>
        <label>
          Font
          <select id="font-select"></select>
        </label>
        <div class="inline">
          <label>
            Size
            <input type="number" id="text-size" min="12" max="200" value="64" />
          </label>
          <label>
            Color
            <input type="color" id="text-color" value="#ffffff" />
          </label>
        </div>
        <div class="inline">
          <label>
            Stroke
            <input type="color" id="text-stroke" value="#000000" />
          </label>
          <label>
            Align
            <select id="text-align">
              <option value="left">Left</option>
              <option value="center" selected>Center</option>
              <option value="right">Right</option>
            </select>
          </label>
        </div>
        <button id="add-text" class="primary">Add Text</button>
      </div>

      <div class="section">
        <h3>Draw Tool</h3>
        <div class="inline">
          <label>
            Color
            <input type="color" id="draw-color" value="#ffffff" />
          </label>
          <label>
            Size
            <input type="number" id="draw-size" min="2" max="48" value="8" />
          </label>
        </div>
      </div>

      <div class="section">
        <h3>Stickers</h3>
        <div id="stickers" class="asset-grid"></div>
      </div>
    </section>

    <section class="panel canvas-panel">
      <div class="canvas-wrap">
        <canvas id="meme-canvas" width="1080" height="1080"></canvas>
      </div>
      <div class="status" id="status"></div>
      <div class="export-bar">
        <button id="export" class="primary">Export PNG</button>
      </div>
    </section>

    <section class="panel layer-panel">
      <h2>Layers</h2>
      <div id="layer-list" class="layer-list"></div>

      <div class="section">
        <h3>Transform</h3>
        <label>
          X
          <input type="number" id="layer-x" />
        </label>
        <label>
          Y
          <input type="number" id="layer-y" />
        </label>
        <label>
          Scale
          <input type="range" id="layer-scale" min="0.1" max="3" step="0.05" />
        </label>
        <label>
          Rotation
          <input type="range" id="layer-rotation" min="-180" max="180" step="1" />
        </label>
        <label>
          Opacity
          <input type="range" id="layer-opacity" min="0" max="1" step="0.05" />
        </label>
      </div>

      <div class="section">
        <h3>Layer Actions</h3>
        <div class="inline">
          <button id="layer-up">Move Up</button>
          <button id="layer-down">Move Down</button>
        </div>
        <div class="inline">
          <button id="layer-toggle">Toggle Visible</button>
          <button id="layer-delete" class="danger">Delete</button>
        </div>
      </div>
    </section>
  </main>

  <script src="/app.js"></script>
</body>
</html>
